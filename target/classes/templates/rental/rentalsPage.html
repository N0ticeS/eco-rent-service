<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head data-th-replace="fragments/headers::head(title='All Rentals')"></head>
<body>
<div class="container">
    <nav data-th-fragment="top"
         class="d-flex justify-content-center nav-padding">
        <ul class="nav nav-pills">
            <li class="nav-item"><a class="navigation-link small-nav-link" data-th-href="@{/}">Main menu</a></li>
            <li class="nav-item"><a class="navigation-link small-nav-link" data-th-href="@{/rentals}">All Rentals</a>
            </li>
            <li class="nav-item"><a class="navigation-link small-nav-link" data-th-href="@{/rentals/add}">Add Rental</a>
            </li>
            <li class="nav-item"><a class="navigation-link small-nav-link" data-th-href="@{/rentals/search}">Search by
                ID</a></li>
        </ul>
        <div th:replace="fragments/headers :: error-message"></div>
    </nav>

    <h2>Rentals</h2>

    <table class="table table-hover mt-4">
        <tr>
            <th>Id</th>
            <th>Product Name</th>
            <th>Customer Full Name</th>
            <th>Phone number</th>
            <th>Rental Date</th>
            <th>Return Date</th>
            <th>Rental Price</th>
            <th></th>
        </tr>

        <tr th:if="${#lists.isEmpty(allRentals)}">
            <td colspan="8" class="text-center">No rentals found.</td>
        </tr>

        <tr th:each="rental : ${allRentals}">
            <td data-th-utext="${rental.id}">..</td>
            <td data-th-utext="${rental.productInstance.product.productName}">..</td>
            <td data-th-utext="${rental.customer.fullName}">..</td>
            <td data-th-utext="${rental.customer.phoneNumber}"></td>
            <td data-th-utext="${#dates.format(rental.rentalDate, 'yyyy-MM-dd')}">..</td>
            <td data-th-utext="${#dates.format(rental.returnDate, 'yyyy-MM-dd')}">..</td>
            <td data-th-utext="${rental.rentalPrice}">..</td>
            <td>
                <div th:replace="fragments/formField :: delete-btn('/rentals/delete', 'Rental', rental)"></div>
            </td>
        </tr>
    </table>
</div>
</body>
</html>
